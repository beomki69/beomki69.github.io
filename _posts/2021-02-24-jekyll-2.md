---
layout: post
icon: "🎪"
title: "Jekyll.2 - 마주친 문제들"
subtitle: "너무 많다"
date: 2021-02-24 03:25:20 +0900
categories: [Github Blog]
tags: [blog, jekyll]
background: "https://images.unsplash.com/photo-1611095564350-2cbe940a8d99?ixid=MXwxMjA3fDF8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1951&q=80"
---

<div class="post-nav" markdown=1>
* A markdown unordered list which will be replaced with the ToC, excluding the "Contents header" from above
{:toc}
</div>

## 지난 포스팅에서

다음 포스팅은 커스텀이 될거라고 이야기 했는데, 커스텀의 카테고리에도 포함될 거라고 생각했지만 막상 글을 쓰려고보니 커스텀에 포함한다기엔... 나만 몰랐던, 나만 안되던 문제들의 연속이었고...

이 자잘한 문제들을 찾고 해결하는데 너무 오랜 시간이 걸렸기 때문에, 혹시나 제 글을 읽고 따라하실 분이 있다면 시간을 좀 줄이시길 바라며 커스텀을 하기 전에 제게 발생한 자잘한 문제들을 정리해보려고 합니다.

jekyll 설치나 서버 실행 등의 문제는 시키는대로 설치하거나 관리자 권한으로 간단하게 해결했기 때문에 자세히 다루지는 않았습니다. ([관리자 권한없이 실행하는 방법](https://jekyllrb-ko.github.io/docs/troubleshooting/#no-sudo)이 있긴한것 같은데... 해봤는데 잘 안되고 지치고 그냥 sudo 해버렸어요... 무슨 문제가 생기는지는 잘 모르겠습니다.)

한가지 저는 겪지 않았지만(WSL이라 그런가) 짚고 넘어가고 싶은 부분은 인코딩 문제로 "Liquid Exception: Incompatible character encoding" 에러가 발생하면 아래 코드를 입력하면 됩니다.
{% highlight shell linenos %}
chcp 65001
{% endhighlight %}

<br />

## 1. Github Pages에서 CSS가 적용이 안된다.

로컬 서버에서는 정상적으로 나오던 페이지가 push후 Github Pages 링크에서 확인했을땐 CSS가 적용이 안되고 있었다...

이는 기본으로 작성되어있는 경로 문제였고, 때문에 이 부분을 수정해주어야 합니다.

_config.yml 파일을 열어보면 baseurl과 url 항목이 있는데 이 부분을 수정해 주어야 합니다.

사실 둘이 어떤 역할인지 정확히 알고있는게 아니기 때문에 설명이 어렵지만 관련 내용을 찾아보고 대략적인 짐작을 하고 있습니다.

저는 baseurl은 비우고 url 항목을 저의 github.io로 수정했습니다.

### 참고 사이트
---
- 적당주의
    - [jekyll blog에서 css가 적용이 안될때 해결법](https://lifetutorial.tistory.com/7)


<br />

## 2. favicon을 어디에 넣어야 하는가

기존에 있는 페이지들에 들어있는 내용을 바꾸기는 그닥 어렵지 않을겁니다. root 폴더에 있는 html 파일의 내용을 바꾸면 되니까요. 그런데 favicon 설정을 어떻게 해야하는지 모르겠더라구요.

우선, favicon으로 사용할 이미지를 준비했다면 이미지 파일을 assets폴더 아래에 위치시킵시다. 이 경로를 가져오면 되겠죠.

해당 폴더의 경로는 다른 곳에서 해당 경로가 필요하면 쓰기 쉽도록 변수로 만들어주겠습니다.

_config.yml 파일을 열어 아래 내용을 추가해주세요.
{% highlight yml linenos %}
asset_url: /assets
{% endhighlight %}

이제 favicon을 추가해봅시다. _include 폴더의 head.html 파일이 모든 페이지에 들어갈 head 영역입니다. 이 곳에 아래 내용을 추가해주세요.
{% highlight html linenos %}
<link href="{{ site.asset_url }}/favicon.ico" rel="shortcut icon" type="image/vnd.microsoft.icon"/>
{% endhighlight %}

위 코드에서 Liquid 문법을 유추할 수 있는데 {{}}를 통해 변수를 작성하고 _config.yml 파일에 설정한 변수는 site.XXX 식으로 사용하면 됩니다.

favicon 설정 끝!

### 참고 사이트
---
- Learn, apply and share
    - [jekyll 사이트 favicon 추가하기](https://min9nim.github.io/2018/03/add-favicon/)


<br />

## 3. 서버를 재시작하는 무한굴레

수정할건 산더미인데 글자 하나만 고쳐도 서버를 재시작해야한다는건 정말 불합리하지 않나요. Jekyll v2.4.0 부터 수정 후 저장하면 변화를 감지하고 자동으로 재시작하는게 기본 설정이라는데 왜 나만 안되는가...

WSL을 사용하는 사용자 중에 이미 같은 내용의 issues를 발견했고, 서버를 실행할 때 옵션을 붙여 해결했습니다.
{% highlight shell linenos %}
bundle exec jekyll serve --force_polling
{% endhighlight %}

위의 코드로 서버를 실행하면 더 이상 서버를 재시작 할 필요가 없습니다. 저장만 하면 변화를 감지합니다. (그래도 좀 느리다는 점이 불만스럽긴한데 매번 재시작하는 것보단 낫죠.)

### 참고 사이트
---
- jekyll issues
    - [jekyll serve not working on Windows Subsystem for Linux](https://github.com/jekyll/jekyll/issues/5233)


<br />

## 엄청 많은 줄 알았는데

막상 정리하고보니 그렇게 많지도 않았네요 하루이틀 붙잡고 있어서 엄청 많을 줄 알았던 걸까요...

어쨌든 다음 포스팅은 댓글 기능 붙이기!